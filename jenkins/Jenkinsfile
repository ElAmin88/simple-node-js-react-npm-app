pipeline{
	agent any
	stages{
		
		stage("test"){
			steps{
			nodejs(nodeJSInstallationName:'nodejs'){	
			   sh "npm install"	
			}	
			}
			
			
			
		}
 		stage("sonarqube analysis"){
 			steps{
				nodejs(nodeJSInstallationName:'nodejs'){
 					sh "npm install"
					withSonarQubeEnv("npm-test"){
 						sh "npm install sonar-scanner"
 					}
				}
 			}
 		}
	}
}
